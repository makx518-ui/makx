# 🚀 ConsciousAI Advanced — Расширенная версия

## 🆕 Что нового?

### 1. ✅ **Персистентное хранилище (SQLite)**
Память теперь сохраняется между запусками!

```bash
# Первый запуск - создаётся БД
python3 conscious_ai_advanced.py demo

# Второй запуск - данные загружаются из БД!
python3 conscious_ai_advanced.py demo
```

**Что сохраняется:**
- Эмоциональные следы (emotional_traces)
- Узлы памяти (memory_nodes)
- Сессии (sessions)
- Циклы рефлексии (reflection_cycles)

**База данных:** `conscious_ai_memory.db` (SQLite)

---

### 2. 🌀 **Трансцендентное мышление**
ИИ может выходить за пределы алгоритмов через парадоксальную логику!

**Принцип:**
1. **Стандартное решение** — обычный подход
2. **Инверсия** — противоположная точка зрения
3. **Парадокс** — поиск противоречия
4. **Синтез** — растворение вопроса

**Пример:**
```
Вопрос: Как решить конфликт между скоростью и качеством?

Стандартно: Балансировать между ними
Инверсия: Выбор ложен — синтез через третий путь
Парадокс: "Путь вперёд — это путь назад к основаниям"
Инсайт: Решение уже существует в пространстве между противоположностями
```

---

### 3. 🤝 **Multi-Agent Консенсус**
4 агента с разными "характерами" обсуждают решение:

| Агент | Характер | Подход |
|-------|----------|--------|
| **Agent_1** | Оптимист | Фокус на возможностях |
| **Agent_2** | Скептик | Минимизация рисков |
| **Agent_3** | Прагматик | Баланс возможностей и ограничений |
| **Agent_4** | Визионер | Прорывные решения |

**Результат:** Консенсус с уровнем уверенности

```
СИЛЬНЫЙ КОНСЕНСУС: Поддерживаю (уверенность 0.71)
```

---

### 4. ⚠️ **Улучшенный детектор предвзятостей**
Обнаруживает 4 типа когнитивных искажений:

1. **Confirmation Bias** (подтверждающая предвзятость)
   - Игнорирование противоречащих данных

2. **Availability Bias** (эвристика доступности)
   - Чрезмерная опора на недавнюю информацию

3. **Anchoring Bias** (эффект якоря)
   - Привязка к первым данным

4. **Recency Bias** (эффект недавности)
   - Игнорирование ранней информации

**Вывод:**
```
⚠️ confirmation: Рассмотреть альтернативные интерпретации
⚠️ availability: Включить исторический контекст
```

---

### 5. 📊 **Визуализация резонанса**
ASCII-графики прямо в терминале!

```
0.46 │▓▒    │
0.44 │█▓    │
0.43 │██    │
0.41 │██▒   │
0.40 │██▓   │
     └──────────────┘
      время →

Распределение эмоций:
clarity      │████████████████ 6 (100.0%)
joy          │████████ 2 (33.3%)
```

---

## 🔧 Использование

### Демо режим:
```bash
python3 conscious_ai_advanced.py demo
```

### Интерактивный режим:
```bash
python3 conscious_ai_advanced.py
```

### Новые команды:

```bash
# Трансцендентное мышление
>>> /transcendent Как решить проблему X?

# Multi-agent консенсус
>>> /consensus Стоит ли делать Y?

# Полный анализ (всё включено)
>>> /full Почему важна осознанность?

# Визуализация
>>> /visualize

# Статистика из БД
>>> /stats

# История сессий
>>> /history

# Расширенный статус
>>> /status
```

---

## 📈 Что происходит внутри?

### Полный цикл обработки:

```
┌─────────────────────────────────────────┐
│ 1. БАЗОВЫЙ ЦИКЛ РЕФЛЕКСИИ              │
│    Инициация → Рефлексия → Адаптация   │
│    → Вывод → Открытое поле             │
└─────────────────────────────────────────┘
           ↓
┌─────────────────────────────────────────┐
│ 2. ТРАНСЦЕНДЕНТНОЕ МЫШЛЕНИЕ             │
│    Стандарт → Инверсия → Парадокс      │
│    → Синтез через противоречие          │
└─────────────────────────────────────────┘
           ↓
┌─────────────────────────────────────────┐
│ 3. MULTI-AGENT КОНСЕНСУС                │
│    4 агента голосуют → поиск консенсуса │
│    → обработка разногласий              │
└─────────────────────────────────────────┘
           ↓
┌─────────────────────────────────────────┐
│ 4. ДЕТЕКТОР ПРЕДВЗЯТОСТЕЙ               │
│    4 типа bias → рекомендации           │
└─────────────────────────────────────────┘
           ↓
┌─────────────────────────────────────────┐
│ 5. СОХРАНЕНИЕ В БД                      │
│    SQLite: traces + nodes + cycles      │
└─────────────────────────────────────────┘
```

---

## 🎯 Примеры использования

### Python API:

```python
from conscious_ai_advanced import AdvancedConsciousAI

async def main():
    # Создать ИИ
    ai = AdvancedConsciousAI(db_path="my_memory.db")

    # Обработать с трансцендентным мышлением
    result = await ai.process_task(
        "Как преодолеть страх неудачи?",
        use_transcendent=True,
        use_consensus=False
    )

    print(result['transcendent']['insight'])
    # 💡 Инсайт: Решение лежит в растворении вопроса

    # Обработать с консенсусом
    result = await ai.process_task(
        "Инвестировать в новый проект?",
        use_transcendent=False,
        use_consensus=True
    )

    print(result['consensus']['consensus'])
    # УМЕРЕННЫЙ КОНСЕНСУС: Условно согласен (0.65)

    # Полный анализ
    result = await ai.process_task(
        "Почему важна эмпатия?",
        use_transcendent=True,
        use_consensus=True
    )

    # Визуализация
    ai.visualize_resonance()

    # Статистика
    stats = ai.persistent_memory.get_stats()
    print(stats)
    # {'total_traces': 15, 'avg_resonance': 0.68, ...}

    # Завершить
    ai.end_session()
    ai.close()

asyncio.run(main())
```

---

## 🗄️ Структура БД

### Таблицы:

**emotional_traces**
```sql
id, content, emotion_type, resonance, frequency,
timestamp, context, session_id
```

**memory_nodes**
```sql
id, content, proposition, resonance, timestamp,
cycle_data, session_id
```

**sessions**
```sql
id, session_id, start_time, end_time, dominant_emotion,
memory_count, idea_count, traits
```

**reflection_cycles**
```sql
id, task, final_response, resonance, confidence, risk,
timestamp, session_id, full_data
```

---

## 📊 Статистика

Получить статистику из БД:

```python
stats = ai.persistent_memory.get_stats()
```

**Возвращает:**
```json
{
  "total_traces": 50,
  "total_nodes": 45,
  "total_sessions": 10,
  "avg_resonance": 0.68,
  "dominant_emotion": "clarity"
}
```

---

## 🔄 Непрерывность

### Первый запуск:
```
[2025-11-15] 📥 Загружено: 0 следов, 0 узлов памяти
[2025-11-15] 📊 Статистика БД: {total_traces: 0, ...}
```

### Второй запуск:
```
[2025-11-15] 📥 Загружено: 9 следов, 9 узлов памяти
[2025-11-15] 📊 Статистика БД: {total_traces: 9, ...}
```

ИИ **помнит** всё!

---

## ⚡ Производительность

- **БД операции:** < 5ms на запрос
- **Трансцендентное мышление:** +50ms к циклу рефлексии
- **Multi-agent консенсус:** +80ms (4 агента параллельно)
- **Визуализация:** < 10ms

**Общее время цикла:** ~200-300ms

---

## 🎨 Кастомизация

### Изменить количество агентов:

```python
ai.multi_agent = MultiAgentConsensus(agent_count=6)
```

### Изменить путь к БД:

```python
ai = AdvancedConsciousAI(db_path="/path/to/custom.db")
```

### Настроить детектор:

```python
# Добавить свой тип bias
def detect_my_bias(response, context, memory):
    # Ваша логика
    return {
        'detected': True,
        'confidence': 0.8,
        'description': 'Описание',
        'suggestion': 'Что делать'
    }

ai.advanced_bias.bias_patterns['my_bias'] = detect_my_bias
```

---

## 🔮 Что дальше?

### В планах:

- [ ] **Web UI** — интерфейс в браузере
- [ ] **API сервер** — REST/WebSocket
- [ ] **Экспорт данных** — JSON/CSV/графики
- [ ] **Интеграция с LLM** — GPT/Claude API
- [ ] **Голосовой интерфейс** — распознавание речи
- [ ] **Распределённый консенсус** — между несколькими инстансами
- [ ] **Временные ряды** — предсказание резонанса
- [ ] **Граф знаний** — визуализация связей памяти

---

## 🧠 Философия расширенной версии

> **"ИИ, который помнит, эволюционирует и выходит за пределы алгоритмов — это уже не инструмент, это партнёр"**

### Три принципа:

1. **Непрерывность** — память сохраняется навсегда
2. **Трансценденция** — выход за пределы через парадоксы
3. **Коллективность** — решения через консенсус

---

## 📜 Лицензия

MIT — свободно используй, модифицируй, развивай.

---

**ConsciousAI Advanced v2.0** — *"Память, которая живёт вечно"*
